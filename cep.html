<!DOCTYPE html>
<html>
<head>
    <title>Consulta de CEP</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<style>
    body {
        background-color: pink;
    }
</style>
<body class="container">
    <section class="row mt-5">
        <div class="col">
            <img src="img/fundo.jpg" alt="imagem" width="100%">
        </div>
        <div class="col">
            <article class="card card-body">
                <div>
                    <h3>INFORME SEU CEP</h3>
                    <div>
                        <img id="estadoImage" src="" alt="Estado" style="max-width: 100px; display: none;">
                        <p id="estadoName" style="display: none;"></p>
                    </div>
                </div>
                <hr>
                <form id="cepForm">
                    <label for="cep">CEP</label>
                    <input id="cep" type="text" class="form-control mb-3" placeholder="ex:12345678">
                    <br>
                    <label for="logradouro">Logradouro</label>
                    <input id="logradouro" type="text" class="form-control mb-3" placeholder="ex:rua x, travessa e etc">
                    <br>
                    <label for="bairro">Bairro</label>
                    <input id="bairro" type="text" class="form-control mb-3" placeholder="ex:centro">
                    <br>
                    <label for = "cidade">Cidade</label>
                    <input id="cidade" type="text" class="form-control mb-3" placeholder="ex:Maceio">
                    <br>
                    <label for="uf">UF</label>
                    <input id="uf" type="text" class="form-control mb-3" placeholder="ex:AL">
                    <br>
                    <label for="numero">Número</label>
                    <input id="numero" type="text" class="form-control mb-3" placeholder="ex:123">

                    <div class="d-grid">
                        <button class="btn btn-primary" type="submit">ENCONTRAR</button>
                        <button class="btn btn-secondary" type="button" id="limparCampos">LIMPAR DADOS</button>
                    </div>
                </form>
            </article>
        </div>
    </section>

    <script>
        const estadoImages = {
            "AC": { nome: "Acre", imagem: "img/acre.png" },
            "AL": { nome: "Alagoas", imagem: "img/alagoas.png" },
            "AP": { nome: "Amapá", imagem: "img/amapa.png" },
            "AM": { nome: "Amazonas", imagem: "img/amazonas.png" },
            "BA": { nome: "Bahia", imagem: "img/bahia.png" },
            "CE": { nome: "Ceará", imagem: "img/ceara.png" },
            "DF": { nome: "Distrito Federal", imagem: "img/distrito-federal.png" },
            "ES": { nome: "Espírito Santo", imagem: "img/espirito-santo.png" },
            "GO": { nome: "Goiás", imagem: "img/goias.png" },
            "MA": { nome: "Maranhão", imagem: "img/maranhão.jpg" },
            "MT": { nome: "Mato Grosso", imagem: "img/mato-grosso.png" },
            "MS": { nome: "Mato Grosso do Sul", imagem: "img/mato-grosso-do-sul.png" },
            "MG": { nome: "Minas Gerais", imagem: "img/minas-gerais.png" },
            "PA": { nome: "Pará", imagem: "img/para.png" },
            "PB": { nome: "Paraíba", imagem: "img/paraiba.png" },
            "PR": { nome: "Paraná", imagem: "img/parana.png" },
            "PE": { nome: "Pernambuco", imagem: "img/pernambuco.png" },
            "PI": { nome: "Piauí", imagem: "img/piauí.png" },
            "RJ": { nome: "Rio de Janeiro", imagem: "img/rio-de-janeiro.png" },
            "RN": { nome: "Rio Grande do Norte", imagem: "img/rio-grande-do-norte.png" },
            "RS": { nome: "Rio Grande do Sul", imagem: "img/rio-grande-do-sul.png" },
            "RO": { nome: "Rondônia", imagem: "img/rondonia.png" },
            "RR": { nome: "Roraima", imagem: "img/roraima.png" },
            "SC": { nome: "Santa Catarina", imagem: "img/santa-catarina.png" },
            "SP": { nome: "São Paulo", imagem: "img/são-paulo.png" },
            "SE": { nome: "Sergipe", imagem: "img/sergipe.png" },
            "TO": { nome: "Tocantins", imagem: "img/tocantins.png" },
        }

        const cepForm = document.getElementById("cepForm");
        cepForm.addEventListener("submit", function (event) {
            event.preventDefault();
            const cep = document.getElementById("cep").value;

            const apiUrl = `https://viacep.com.br/ws/${cep}/json/`;
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    document.getElementById("logradouro").value = data.logradouro;
                    document.getElementById("bairro").value = data.bairro;
                    document.getElementById("cidade").value = data.localidade;
                    document.getElementById("uf").value = data.uf;
                    document.getElementById("numero").focus();

                    const estadoImage = document.getElementById("estadoImage");
                    const estadoName = document.getElementById("estadoName");

                    if (estadoImages[data.uf]) {
                        estadoImage.style.display = "block";
                        estadoImage.src = estadoImages[data.uf].imagem;
                        estadoName.style.display = "block";
                        estadoName.textContent = estadoImages[data.uf].nome;
                    } else {
                        estadoImage.style.display = "none";
                        estadoName.style.display = "none";
                    }
                })
                .catch(error => {
                    console.error("Erro ao buscar o endereço pelo CEP: " + error);
                });
        });

        const limparCampos = document.getElementById("limparCampos");
        limparCampos.addEventListener("click", function () {
            document.getElementById("cep").value = "";
            document.getElementById("logradouro").value = "";
            document.getElementById("bairro").value = "";
            document.getElementById("cidade").value = "";
            document.getElementById("uf").value = "";
            document.getElementById("numero").value = "";
            const estadoImage = document.getElementById("estadoImage");
            const estadoName = document.getElementById("estadoName");
            estadoImage.style.display = "none";
            estadoName.style.display = "none";
        });
    </script>
</body>
</html>

